<h1>Prioridade das tarefas</h1>

<div class="row">

  <div class="table-responsive-vertical " ng-if="!(priorities === undefined) && !(priorities.length == 0)">
      <table id="table" class="table table-hover table-bordered">
          <thead>
          <tr>
              <th style="width: 33%;">Nome</th>
              <th style="width: 33%;">Importância</th>
              <th style="width: 33%;">Excluir</th>
          </tr>
          </thead>
          <tbody>
          <tr ng-repeat="data in priorities track by $index">
                  <td data-title="Nome"><a ng-click="editProperty(data)" style="cursor: pointer">{{data.name}} </a></td>
                  <td data-title="Importancia">{{data.importance}}</td>
             
              <td data-title="Acoes">
              	 <a class="btn-floating btn-large waves-effect waves-light red" ng-click="deletePriority(data)"><i class="material-icons">delete</i></a>
              </td>
          </tr>
          </tbody>
      </table>
  </div>
  <div ng-if="(priorities === undefined) || (priorities.length == 0)">
    <h4>Não exitem prioridades cadastradas = (</h4>
  </div>
</div>
<div class="fixed-action-btn" style="bottom: 45px; right: 100px;">
          <a class="btn-floating btn-large waves-effect waves-light green" ng-click="addNewPriority()"><i class="material-icons">add</i></a>
</div>

<!-- TODO: Directive to implements the modal dialog -->
<script type="text/ng-template" id="dialog.tmpl.html">
    <md-dialog aria-label="Autocomplete Dialog Example" ng-cloak>
      <md-toolbar>
        <div class="md-toolbar-tools">
          <h2>{{ title }} Prioridade de Tarefa</h2>
          <span flex></span>
          <md-button class="md-icon-button" ng-click="cancel()">
            <md-icon md-svg-src="img/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon>
          </md-button>
        </div>
      </md-toolbar>

    <md-dialog-content>
    <div class="md-dialog-content">
       <div class="row">
            <form class="col s12">
              <div class="row">
                <div class="input-field col s6">
                  <input id="name" type="text" class="validate active"  ng-model="priority.name">
                  <label for="name">Nome da prioridade</label>
                </div>
                <div class="input-field col s6">
                  <input id="importance" type="number" class="validate active" step="1" min="0"  ng-model="priority.importance"> 
                  <label for="importance">Grau de importiancia</label>
                </div>
                 <div class="input-field col s1 ">

                    <a class="waves-effect waves-light btn" ng-if="title == 'Nova'" ng-click="savePriority(priority)">Salvar</a>

                    <a class="waves-effect waves-light btn blue" ng-if="title == 'Editar'" ng-click="updatePriority(priority)">Atualizar</a>
                </div>
              </div>
            </form>
        </div>
    </div>
    </md-dialog-content>
    </md-dialog>
</script>

